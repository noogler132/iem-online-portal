# Sending user data

Authbox gets better with more data. You can send some of the most important data with `getRequestData()`.

## Configure Authbox Using `getRequestData`

Two additional pieces of data that greatly increase the efficacy of Authbox are the current user and current session. You can set these by providing an additional field in the one time call to configure. This additional setting is called `getRequestData` and should be a function that takes a request and a callback that fires when you have fetched the additional data from your database or the request itself: `getRequestDataFunction(req, cb)` A sample configure call that sets these additional pieces of information would look like this:

```javascript
authbox.configure({
  apiKey: 'YOUR_API_KEY',
  secretKey: 'YOUR_SECRET_KEY',
  getRequestData: function(request, cb) {
    cb(null, {
      $user: /* fetch user information from the db based on the request */,
      $session: /* return infromation about the session based on the request */
    });
  }
});
```

### Users in Authbox

Providing the signed in user is possibly the single highest-value signal you can provide. A sample Authbox user looks like the following:

```javascript
 $user : {
   // Array of userIDs that consist of a type and a key.
   $userIDs: [
     {$type:'$email', $key: 'bingo@authbox.io'},
     {$type:'$phone', $key: '12121112222'},
     ...
   ],
   // OPTIONAL: Account creation time in seconds since 1/1/1970.
   $creationTime: 1369114061000
 };
```

 As you might have guessed from the above snippet, Authbox User objects consist of two special components: `$userIDs` and `$creationTime`. You can provide any additional information you want on the user, but $userIDs and $creationTime are the most important. $userIDs is an array of user identifiers that consist of a `$type` and a `$key`. The key is the actual value while the type can be one of the following:

  * $email
  * $phone
  * $username
  * $facebook
  * $twitter
  * $google
  * $github
  * $stripe
  * $opaqueID

In summary, an Authbox User consists of an array of userIDs (type and key) and an optional creationTime.

  * **$key**: the user ID (either an email address, phone number, username, or opaque identifier)
  * **$type**: either  `$email`, `$phone`, `$username`, `$facebook`, `$twitter`, `$google`, `$github`, `$stripe`, OR `$opaqueID`
  * **$creationTime**: optional: unix timestamp of when the account was created

## Sessions in Authbox

Sessions in Authbox simply consist of a `$sessionID` and an optional `$creationTime`. A sample session looks like this:
```javascript
$session : {
  $sessionID: 'session id',
  $creationTime : 1369114061000
};
```

## Next steps

Giving Authbox information about specific actions users are performing makes it much, much more effective. See the [the next section](./03-custom-actions.md) for information about this level of integration.
