'use strict';
var invariant = require('./invariant');

// This is a pretty ghetto check, but Bluebird doesn't have an
// isPromise() function. I think that's by design since Promises
// try to be usable transparently with normal values. However, since
// this function is purely to indicate side effects of I/O, it would
// not make sense to pass anything but a promise here. If you did
// it would most likely indicate that you are using the API
// incorrectly.
function invariantPromise(p) {
  var args = Array.prototype.slice.call(arguments, 1);
  args = [p && typeof p.then === 'function'].concat(args);
  return invariant.apply(null, args);
}

module.exports = invariantPromise;
